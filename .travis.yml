language: java
install: gradle wrapper --gradle-version 4.8
sudo: required
jdk:
  - oraclejdk8
branches:
  only:
  - master
services:
- docker
before_install:
  - docker run -p 6379:6379 -d --name redis redis:3.0.7-alpine
  - chmod +x gradlew
script:
  - "./gradlew clean build"
  - "./gradlew test"
after_success:
  - "./deploy.sh"
env:
  global:
  - secure: YMvSwZWUpiJqKGhQiGP1xOlvUgIyoCNZgDFMGqak+W/6u0p6CzuixC6cmFG9+86bbwQCzE8+7dVjLou06uKiykozR73Al0gcLvlpoxhZ7mHRIBKc6rpjILZ2vMq/X84QjDaiq8/OK+z/Ul/ve0eZtO3ZIkr1I+XNr31KbJbzzbVaop04DmIjlJ/xZwYkXKLIYtu6znPp7CxxYvjnzVx/DTuLpfy6+amcDfkYBEfrQIgeH2XqLplWBjZOawGCstyxiCkkvGb21CBbpHZ9/wuZDVda/kmz1P1/eq2Vq/6Moknw1mpgjKP/Q6mVv0LpgvO9DgZ9VNq+bpjFgnyTkp5z7R/s6Q6MjAZ51cuXFzXD2FCCCXnuSEo0jCmNRCWwzqqkuRsSpo5nmwBVgXaImWPLYkc2rsQLXYqhetydWlaVxYXfu5DCsCwXEWvIt+m43t40mQYM+U1+RaEcysgqBCt9qxnkKcrDAItSr3QBcu12fAF856+SPhm40ILVX6wdKulchZm4o5DgkphtTJpua+D1iFGUApQAAvLseEQFGA27ljCxcyy819proU6K/2Z1XHdnMc1wwkP+MDURMXViDVVEzyzUpWTiF1iD90Cse05FxEpjZJ1Y9rA/02fCG0qdaF7UYnqC2RjFb2Jj6nmp4CkNRr5POmfZKqnPTcM7QF7NE8Q=
  - secure: e+X5/fBPP0ki7rd6mkyPUm+V/+S2q+LQZsbG9vaKHdIOtKoBd7WaQB9vyCH9eVY+XaHYByAWW58T3R0PINpDnDjFCSZ4shsv/PFjgKqWb+/uCuLXRLQnl770FoqpaMYUnizZSSsZVYqwYnN4QgyRmDBcOCfrX/cLk7jng8y7drf2Ea9Fmh7mc6nRgfHrNKCpFzutWJA/1k290uRNNDvptCYyIsTGi/x17tmK1nmnNrwx/pn2nEgmVys8YTWx+Wll0Z3jBdEfAuYs9Nger3FWLX6RbCGWWAb1fZPsHGPsgJyN6Vos9MeLK7dsGCyT3oEuHif4aUv+gEMWH/LXyQ+ITx8bQPSVGXGXPJRssnQY4vSJ1Cs0IprEGUmQLsMkEwL5voNTRtoIYR6cvJ4ILKT3Su2sn0+neQyoZSB5KXEznlKr5bJFZSaQHJHNbHgzTdU5lzY9ZCOeMjehVyTwN2ibj0XXOKSz12evKNoixPBqIDUDY2j1qNPNifC4YCz55Qh2EkDO843+WzRjry7sDeP8MyDArPfCfS6avQVK9ZG7MBBgzmZdzkSsVi6o8huUwOdzDsf0hU7SXryvfU9uqR4v3UYL6BIECKsta7JjwSTT6I3Kg5dybVuBlE0L7HriF3Qs53cONDwwbjK8c8eOzTS2WwW7ShFyCRKc760tS2tjX4Q=
  - secure: N3j19EeNLGmF7uokDlZSwV1fiOyqQMyWAzWiNkvOroUAHWRQiXYXh8iGk3LpgLpI4uZZKhWIcYfpsoneKf/SX5eR3kluDOtDEUfwUOIFE2UBjytwKjTrzGXIowYXcFNT3do0b1H/zjyEwdpJKlp6w3gedK1hXxc4MZJGRcHJpDT63QWxcobQdhi2rlg0R/NUR6dysCc32bO5CtpeOVwfA7jhXAZs4RICZcBZPuInDTu/m+nq0aaSgIep4Fbs7+bDobpga+mzyFlJhv/cXewFDw/+lucVXFcZOXMBO7WIqqPqGrNTiDmHe6MnGjhvOejnf/1TI8ZxHd8MfEgB3wnwebaom2FXqwtaV8pOWdcLKcIlSprnfeHUeR2CBb4tY6u4CAeZtpvtf35V7VINmcPT1M28Hv1WHEYhWB7vv4Hexl7MYREsI3KyWZtPZhDKtNgUcm8VpBvwhxiwwIHyHUFshDKFqXJnn56olmjhCTHSk86I6n39H2YyOh5xwkMH8cjY+yWIK7KrUiy0MrDkCmQCHGQ/7oJx4qpXhFkwtPrUg/NxNVZnDT76ALnkgG7o/uhPZ4LNnAq/FVzhefeGzWn8i1MGqpKsbnhNLdULwqbCbdia3pWAKeQTXK1fVAQKrr4z6FzzDkZOFIL1I7aEm7Pc0R9pE7VI6HKcnA1zQnVKmV4=
  - secure: GwDDOIuXu1A6iorWpvvzUht72QL5Nm/HjlKOgymTtzEfeheODj8hYWOJTTKaYjaUXCJ4Tzaov1H3x5px/F3spcVY0Te5EcH5252Zqgamt5vaQF/lrpb/d2F/XJC2mQSDHijBCcxDHy+AumSrDzyzIzW0L4Pg32id8XlnrU9KU8r2TmYdEp8iCqnkO5f7yV+zxUGsuY1OHt+aeu3cnBk+XC7TY66eN1/XuMfb+QfRSxLj8VB34FklSMMcpBvE2FvltwEGBBgpjP4LxfKxBYetQjShnOEyrlgXrMNU85KubclkNIuYSsr9XN5XH9kKn5qJuttkMoAg1mnmd7KvVZVFmy/tEmQywFQSV+o23NYmktkxkcUwNTlU6F3IizPigaq/xQJ1l2Hj+OB9O0XQnmuNWFoJlN7Vz881PWAsm91kdSxhfZwbT2WKTqHpXrE0MLj/PXBfTpLYj6cDlPG5LfPcWMkqW/2Ir8k9dLJtjHB2nNvTwZT4T7+GX8H6TCYmsMnNLYYaEsv/oWbTgddadBPq2BOF8CJMr137wmwxN+qZl5kb1x+/j0IxFs4nrUPZ3ZL296o9V74LrCTf32mWjDgMxy0boc4RcZP/3kED3jI3tFmxCIDcWEYib9ShpOG3iA1234yD44OyuBpAtfgfLCaVuQlcYcApt3oC/xpEB13XHH0=
